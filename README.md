# èˆªæµ·é›»ç¾…ç¶“å·®è¨ˆç®—å™¨ | Gyrocompass Error Calculator

ä¸€å€‹å°ˆæ¥­çš„èˆªæµ·é›»ç¾…ç¶“å·®è¨ˆç®—å™¨ï¼Œä½¿ç”¨ Next.js 15 å’Œ Shadcn UI æ§‹å»ºï¼Œæ¡ç”¨è§€æ¸¬å¤ªé™½æ–¹ä½æ³•è¨ˆç®—é›»ç¾…ç¶“å·®ã€‚

![Next.js](https://img.shields.io/badge/Next.js-15.4.5-black)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)
![Tailwind CSS](https://img.shields.io/badge/Tailwind%20CSS-4.1-blue)
![Shadcn UI](https://img.shields.io/badge/Shadcn%20UI-Latest-purple)

## ğŸ¯ å°ˆæ¡ˆç‰¹è‰²

- **å°ˆæ¥­ç²¾æº–**: åŸºæ–¼å¤©æ–‡è¨ˆç®—åŸç†ï¼Œä½¿ç”¨ SunCalc åº«é€²è¡Œç²¾ç¢ºçš„å¤ªé™½ä½ç½®è¨ˆç®—
- **ç›´è§€æ˜“ç”¨**: æ¡ç”¨ Shadcn UI è¨­è¨ˆçš„ç¾ä»£åŒ–ç•Œé¢ï¼Œæ“ä½œç°¡å–®ç›´è§€
- **å¯¦æ™‚è¨ˆç®—**: å³æ™‚é¡¯ç¤ºé›»ç¾…ç¶“å·®å’Œç›¸é—œå¤©æ–‡åƒæ•¸
- **éŸ¿æ‡‰å¼è¨­è¨ˆ**: é©é…ä¸åŒè¢å¹•å°ºå¯¸ï¼Œæ”¯æ´è¡Œå‹•è£ç½®ä½¿ç”¨
- **ä¸­æ–‡ç•Œé¢**: å®Œå…¨ä¸­æ–‡åŒ–çš„å°ˆæ¥­èˆªæµ·è¡“èªç•Œé¢

## ğŸ›  æŠ€è¡“æ£§

- **å‰ç«¯æ¡†æ¶**: Next.js 15 (App Router)
- **UI å…ƒä»¶åº«**: Shadcn UI
- **æ¨£å¼æ¡†æ¶**: Tailwind CSS v4.1
- **ç¨‹å¼èªè¨€**: TypeScript
- **å¤©æ–‡è¨ˆç®—**: SunCalc
- **é–‹ç™¼å·¥å…·**: ESLint, PostCSS

## ğŸ“‹ åŠŸèƒ½ç‰¹è‰²

### è¼¸å…¥åƒæ•¸
- **è§€æ¸¬æ™‚é–“**: UTC æ—¥æœŸå’Œæ™‚é–“é¸æ“‡
- **èˆ¹èˆ¶ä½ç½®**: ç²¾ç¢ºçš„ç¶“ç·¯åº¦è¼¸å…¥ï¼ˆåº¦/åˆ†æ ¼å¼ï¼‰
- **è§€æ¸¬æ–¹ä½**: é›»ç¾…ç¶“å¤ªé™½æ–¹ä½è§’

### è¨ˆç®—çµæœ
- **é›»ç¾…ç¶“å·®**: ä¸»è¦è¨ˆç®—çµæœï¼Œé¡¯ç¤ºæ±å·®(E)æˆ–è¥¿å·®(W)
- **å¤ªé™½çœŸå¯¦æ–¹ä½**: åŸºæ–¼å¤©æ–‡è¨ˆç®—çš„å¤ªé™½çœŸå¯¦æ–¹ä½è§’
- **åœ°æ–¹æ™‚è§’ (LHA)**: Local Hour Angle
- **å¤ªé™½èµ¤ç·¯ (Dec)**: å¤ªé™½èµ¤ç·¯è§’
- **æ ¼æ—å¨æ²»æ™‚è§’ (GHA)**: Greenwich Hour Angle

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Node.js 18+ 
- pnpm (æ¨è–¦) æˆ– npm
- Cloudflare å¸³è™Ÿ (ç”¨æ–¼ç”Ÿç”¢éƒ¨ç½²)

### æœ¬åœ°é–‹ç™¼

#### 1. å…‹éš†å°ˆæ¡ˆ

```bash
git clone https://github.com/Utoaaaa/gyro-error-calculator.git
cd gyro-error-calculator
```

#### 2. å®‰è£ä¾è³´

```bash
# æ¨è–¦ä½¿ç”¨ pnpm
pnpm install

# æˆ–ä½¿ç”¨ npm
npm install
```

#### 3. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨

```bash
pnpm dev
# æˆ–
npm run dev
```

é–‹å•Ÿç€è¦½å™¨è¨ªå• [http://localhost:3000](http://localhost:3000)

### ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²

#### æ–¹å¼ä¸€ï¼šCloudflare Workers éƒ¨ç½² (æ¨è–¦)

1. **å®‰è£ Wrangler CLI**
   ```bash
   npm install -g wrangler
   ```

2. **ç™»éŒ„ Cloudflare å¸³è™Ÿ**
   ```bash
   wrangler login
   ```

3. **æ§‹å»ºä¸¦éƒ¨ç½²**
   ```bash
   # å®‰è£ä¾è³´ä¸¦æ§‹å»ºå°ˆæ¡ˆ
   pnpm install
   
   # æ§‹å»ºç”¨æ–¼ Cloudflare Workers çš„ç‰ˆæœ¬
   pnpm run build:cf
   
   # éƒ¨ç½²åˆ° Cloudflare Workers
   pnpm run deploy
   ```

4. **è¨ªå•éƒ¨ç½²çš„æ‡‰ç”¨**
   - é»˜èªåŸŸåï¼š`https://gyro-error-calculator.your-subdomain.workers.dev`
   - è‡ªå®šç¾©åŸŸåï¼š`https://6156150.xyz/gyro-error-calculator`

#### æ–¹å¼äºŒï¼šéœæ…‹ç¶²ç«™éƒ¨ç½²

1. **æ§‹å»ºéœæ…‹æ–‡ä»¶**
   ```bash
   pnpm install
   pnpm run build
   ```

2. **éƒ¨ç½²åˆ°éœæ…‹ä¸»æ©Ÿ**
   - å°‡ `out` è³‡æ–™å¤¾ä¸­çš„å…§å®¹ä¸Šå‚³åˆ°ä»»ä½•éœæ…‹ä¸»æ©Ÿæœå‹™
   - æ”¯æ´ Vercelã€Netlifyã€GitHub Pages ç­‰å¹³å°

#### æ–¹å¼ä¸‰ï¼šæœ¬åœ°ç”Ÿç”¢ç’°å¢ƒ

```bash
# æ§‹å»ºå°ˆæ¡ˆ
pnpm run build

# å•Ÿå‹•ç”Ÿç”¢æœå‹™å™¨
pnpm start
```

### é–‹ç™¼æŒ‡ä»¤èªªæ˜

```bash
# é–‹ç™¼æ¨¡å¼ (ä½¿ç”¨ Turbopack åŠ é€Ÿ)
pnpm dev

# æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬
pnpm run build

# æ§‹å»º Cloudflare Workers ç‰ˆæœ¬
pnpm run build:cf

# çµ„ç¹”è³‡ç”¢æ–‡ä»¶ (ç”¨æ–¼ Cloudflare)
pnpm run organize-assets

# å•Ÿå‹•ç”Ÿç”¢æœå‹™å™¨
pnpm start

# ä»£ç¢¼æª¢æŸ¥
pnpm run lint

# Cloudflare Workers æœ¬åœ°é–‹ç™¼
pnpm run cf:dev

# éƒ¨ç½²åˆ° Cloudflare Workers
pnpm run deploy
```

## ğŸ“– ä½¿ç”¨èªªæ˜

### 1. è¼¸å…¥è§€æ¸¬è³‡æ–™

1. **é¸æ“‡è§€æ¸¬æ—¥æœŸ**: ä½¿ç”¨æ—¥æ›†é¸æ“‡å™¨é¸æ“‡è§€æ¸¬çš„ UTC æ—¥æœŸ
2. **è¼¸å…¥è§€æ¸¬æ™‚é–“**: åˆ†åˆ¥è¼¸å…¥æ™‚ã€åˆ†ã€ç§’ï¼ˆUTC æ™‚é–“ï¼‰
3. **è¼¸å…¥èˆ¹èˆ¶ä½ç½®**:
   - ç·¯åº¦ï¼šè¼¸å…¥åº¦æ•¸å’Œåˆ†æ•¸ï¼Œé¸æ“‡åŒ—(N)æˆ–å—(S)
   - ç¶“åº¦ï¼šè¼¸å…¥åº¦æ•¸å’Œåˆ†æ•¸ï¼Œé¸æ“‡æ±(E)æˆ–è¥¿(W)
4. **è¼¸å…¥é›»ç¾…ç¶“å¤ªé™½æ–¹ä½**: è¼¸å…¥é›»ç¾…ç¶“è§€æ¸¬åˆ°çš„å¤ªé™½æ–¹ä½è§’ï¼ˆåº¦ï¼‰

### 2. åŸ·è¡Œè¨ˆç®—

é»æ“Šã€Œè¨ˆç®—é›»ç¾…ç¶“å·®ã€æŒ‰éˆ•åŸ·è¡Œè¨ˆç®—

### 3. æŸ¥çœ‹çµæœ

- **é›»ç¾…ç¶“å·®**: ä¸»è¦çµæœï¼Œæ­£å€¼é¡¯ç¤ºç‚ºç¶ è‰²(æ±å·®)ï¼Œè² å€¼é¡¯ç¤ºç‚ºç´…è‰²(è¥¿å·®)
- **è¨ˆç®—éç¨‹å‚™æŸ¥**: é¡¯ç¤ºä¸­é–“è¨ˆç®—åƒæ•¸ä¾›é©—è­‰ä½¿ç”¨

### 4. é‡æ–°è¨ˆç®—

é»æ“Šã€Œæ¸…é™¤é‡å¡«ã€æŒ‰éˆ•æ¸…é™¤æ‰€æœ‰è¼¸å…¥ä¸¦é‡æ–°é–‹å§‹

## ğŸ§® è¨ˆç®—åŸç†

æœ¬è¨ˆç®—å™¨æ¡ç”¨ä»¥ä¸‹æ­¥é©Ÿè¨ˆç®—é›»ç¾…ç¶“å·®ï¼š

1. **åº§æ¨™è½‰æ›**: å°‡åº¦/åˆ†æ ¼å¼è½‰æ›ç‚ºåé€²åˆ¶åº¦æ•¸
2. **å¤©æ–‡è¨ˆç®—**: ä½¿ç”¨ SunCalc åº«è¨ˆç®—å¤ªé™½ä½ç½®
3. **æ–¹ä½è§’è½‰æ›**: å°‡å¤ªé™½æ–¹ä½è§’è½‰æ›ç‚ºèˆªæµ·æ¨™æº–æ–¹ä½
4. **GHA è¨ˆç®—**: è¨ˆç®—æ ¼æ—å¨æ²»æ™‚è§’
5. **LHA è¨ˆç®—**: è¨ˆç®—åœ°æ–¹æ™‚è§’ (LHA = GHA + ç¶“åº¦)
6. **é›»ç¾…ç¶“å·®**: è¨ˆç®—çœŸå¯¦æ–¹ä½èˆ‡é›»ç¾…ç¶“æ–¹ä½çš„å·®å€¼

å…¬å¼ï¼š**é›»ç¾…ç¶“å·® = å¤ªé™½çœŸå¯¦æ–¹ä½ - é›»ç¾…ç¶“å¤ªé™½æ–¹ä½**

## âš ï¸ æ³¨æ„äº‹é …

- æœ¬è¨ˆç®—å™¨åƒ…ä¾›èˆªæµ·åƒè€ƒä½¿ç”¨
- å¯¦éš›å°èˆªæ™‚è«‹çµåˆå¤šç¨®å°èˆªè¨­å‚™å’Œæ–¹æ³•
- è¨ˆç®—ç²¾åº¦å¯èƒ½å—åˆ°å¤§æ°£æŠ˜å°„ã€è§€æ¸¬èª¤å·®ç­‰å› ç´ å½±éŸ¿
- å»ºè­°å®šæœŸé€²è¡Œé›»ç¾…ç¶“æ ¡æ­£å’Œæ¯”å°

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
gyro-error-calculator/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ favicon.ico        # ç¶²ç«™åœ–æ¨™
â”‚   â”œâ”€â”€ globals.css        # å…¨å±€æ¨£å¼
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹ä½ˆå±€
â”‚   â””â”€â”€ page.tsx           # ä¸»é é¢
â”œâ”€â”€ components/            # UI å…ƒä»¶
â”‚   â””â”€â”€ ui/               # Shadcn UI å…ƒä»¶
â”‚       â”œâ”€â”€ button.tsx    # æŒ‰éˆ•å…ƒä»¶
â”‚       â”œâ”€â”€ calendar.tsx  # æ—¥æ›†é¸æ“‡å™¨
â”‚       â”œâ”€â”€ card.tsx      # å¡ç‰‡å…ƒä»¶
â”‚       â”œâ”€â”€ input.tsx     # è¼¸å…¥æ¡†å…ƒä»¶
â”‚       â”œâ”€â”€ label.tsx     # æ¨™ç±¤å…ƒä»¶
â”‚       â”œâ”€â”€ select.tsx    # ä¸‹æ‹‰é¸æ“‡å…ƒä»¶
â”‚       â””â”€â”€ tooltip.tsx   # æç¤ºæ¡†å…ƒä»¶
â”œâ”€â”€ lib/                   # å·¥å…·å‡½æ•¸å’Œæ ¸å¿ƒé‚è¼¯
â”‚   â”œâ”€â”€ calculations.ts   # é›»ç¾…ç¶“å·®è¨ˆç®—æ ¸å¿ƒé‚è¼¯
â”‚   â””â”€â”€ utils.ts         # é€šç”¨å·¥å…·å‡½æ•¸
â”œâ”€â”€ public/               # éœæ…‹è³‡æº
â”‚   â”œâ”€â”€ file.svg         # SVG åœ–æ¨™
â”‚   â”œâ”€â”€ globe.svg        # åœ°çƒåœ–æ¨™
â”‚   â”œâ”€â”€ next.svg         # Next.js åœ–æ¨™
â”‚   â”œâ”€â”€ vercel.svg       # Vercel åœ–æ¨™
â”‚   â””â”€â”€ window.svg       # è¦–çª—åœ–æ¨™
â”œâ”€â”€ scripts/              # æ§‹å»ºè…³æœ¬
â”‚   â””â”€â”€ organize-assets.js # Cloudflare Workers è³‡ç”¢çµ„ç¹”è…³æœ¬
â”œâ”€â”€ src/                  # Cloudflare Workers
â”‚   â””â”€â”€ worker.ts        # Workers å…¥å£é»
â”œâ”€â”€ .gitignore           # Git å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ components.json      # Shadcn UI é…ç½®
â”œâ”€â”€ eslint.config.mjs    # ESLint é…ç½®
â”œâ”€â”€ next.config.ts       # Next.js é…ç½®
â”œâ”€â”€ package.json         # ä¾è³´é…ç½®
â”œâ”€â”€ pnpm-lock.yaml       # pnpm é–å®šæ–‡ä»¶
â”œâ”€â”€ postcss.config.mjs   # PostCSS é…ç½®
â”œâ”€â”€ README.md            # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â”œâ”€â”€ tsconfig.json        # TypeScript é…ç½®
â””â”€â”€ wrangler.toml        # Cloudflare Workers é…ç½®
```

### æ ¸å¿ƒæ–‡ä»¶èªªæ˜

- **`lib/calculations.ts`**: åŒ…å«é›»ç¾…ç¶“å·®è¨ˆç®—çš„æ ¸å¿ƒç®—æ³•
- **`app/page.tsx`**: ä¸»è¦çš„ç”¨æˆ¶ç•Œé¢å’Œäº¤äº’é‚è¼¯
- **`components/ui/`**: åŸºæ–¼ Shadcn UI çš„å¯é‡ç”¨ UI å…ƒä»¶
- **`wrangler.toml`**: Cloudflare Workers éƒ¨ç½²é…ç½®
- **`next.config.ts`**: Next.js é…ç½®ï¼Œæ”¯æ´éœæ…‹å°å‡ºå’Œ Cloudflare Workers
- **`scripts/organize-assets.js`**: æ§‹å»ºæ™‚çµ„ç¹”è³‡ç”¢æ–‡ä»¶çš„è…³æœ¬

## ğŸ“„ æˆæ¬Š

MIT License

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Request ä¾†æ”¹é€²é€™å€‹å°ˆæ¡ˆã€‚

---

**é–‹ç™¼è€…**: èˆªæµ·é›»ç¾…ç¶“å·®è¨ˆç®—å™¨åœ˜éšŠ  
**ç‰ˆæœ¬**: 1.0.0  
**æ›´æ–°æ—¥æœŸ**: 2025å¹´8æœˆ
